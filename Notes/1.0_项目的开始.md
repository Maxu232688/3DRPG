# Lily奥德赛课程记录

## 前言

课里面有一些一带而过的重要知识，或者有一些bug，我在学习记录的过程中都进行了补全。

在学习这个项目之前，你必须具备熟练使用C#的技能，包括但不限于熟悉面向对象、委托、反射等知识点。\
其次，对Unity中的一些常用Api要了解，比如GetComponent、UnityEvent等，即基本会使用Unity，知道哪个面板都是干什么的，知道调整一些参数在哪里调。\
这样你学习这个项目才能有更多的收获，否则听的云里雾里，项目好像跟着做出来了，但是知识没串起来，那就白做了，之后还得回过头重新学。

**我写的这个文档必须结合课程视频去看，目的是能知道视频中到底都干了什么以及视频中出现的bug是在哪里修改掉的。**

当然，我这个文档里面可能也会有很多遗漏的点和bug，但是都不会影响游戏流程，等你做完了整个工程，碰到bug也就知道去哪里修了。

## 创建项目

**该项目使用了 Unity 2022.3.3f1c1 版本，创建项目时尽可能选用更高版本的Unity。**

点击工具栏中的 Window -> Package Manager\
点击 Package Manager 左上角的 Packages：xxxxx，选择为Unity Registry。\
在右上角搜索框内输入 Shader Graph。\
安装Shader Graph。\
在右上角搜索框内输入 Input System。\
安装Input System，随后重启Unity。

导入资源包后所有的资源都在 PLAYER TWO 文件夹下，一层一层的去找。我觉得它藏得太深了，就在Assets文件夹下新建了一个Resource文件夹，将里面的资源全部放在Assets/Resource文件夹下。

**注意千万不能是Resources文件夹，这个文件夹会在打包的时候把里面的所有东西都打包进去，有的时候你用不上那么多资源就是浪费空间**

**有时候我会通过加粗来重点提醒容易出问题的地方，也有可能是因为我在后面的进度中发现了问题倒退回来改掉的，我保证了按顺序制作不会出现难以修复的bug**

## 创建最初的场景

在Scene文件夹下新建场景命名为TestLevelScene，双击进入。\
在Hierarchy窗口下新建GameObject，取名为TestLevel，在其下创建另一个GameObject，取名为StaticBlocks，再在其下创建Cube，当作地面。

注意将这些对象的世界坐标位置都设置为0，Cube调整大小为(100, 4, 100)。

创建GameObject命名为Lily，将Resource/Models/Lily拖拽到其下。\
点击子物体Lily，观察Inspector面板中 Animator -> Controller 缺失，为其添加Resource/Animations/Models/Lily。

**此处涉及到动画状态机的知识，也就是说你就算不了解动画机也得会用，才能看得懂之后的代码在干什么**

双击Controller中的Lily，打开 Animator 面板，可以看到共有两个层级：BaseLayer和UpperBody。\
顾名思义，使用了遮罩控制上半身的动画与整体的动画。\
看不懂也没关系，在Lily项目里面我们不会去手搓动画状态关系。

在Assets/Resource下新建文件夹Prefabs，将场景内的Lily拖入文件夹形成预制体。

---

项目开始的准备工作就做好了。