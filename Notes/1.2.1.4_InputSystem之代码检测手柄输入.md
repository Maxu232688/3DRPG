# InputSystem之代码检测手柄输入

喜欢用手柄吗

## 获取当前手柄

```csharp
using UnityEngine.InputSystem;

//...

Gamepad gp = Gamepad.current;
if (gp == null)
{
    return;
}

```

## 手柄摇杆

```csharp
// 摇杆方向
// 左摇杆
gp.leftStick.ReadValue(); // 返回Vector2
// 右摇杆
gp.rightStick.ReadValue();
// 摇杆按下抬起长按
gp.leftStickButton.wasPressedThisFrame
gp.leftStickButton.wasReleasedThisFrame
gp.leftStickButton.isPressed
// 不用多说了吧
```

## 手柄方向键

```csharp
gp.dpad.left
gp.dpad.right
gp.dpad.up
gp.dpad.down

gp.dpad.left.wasPressedThisFrame
//省略..............
```

## 手柄右键按键

```csharp
// 前面写的是xbox手柄的按键，后面为对应位置的ps手柄按键
// Y 三角键
gp.buttonNorth
// X 方框键
gp.buttonWest
// A 叉键
gp.buttonSouth
// B 圆圈键
gp.buttonEast

gp.buttonSouth.wasPressedThisFrame
//省略........

// 可以按按键名监听，不建议这样写，太麻烦了
// 圆圈键
gp.circleButton
// 三角键
gp.triangleButton
// 方框键
gp.squareButton
// 叉键
gp.crossButton
// x
gp.xButton
// a
gp.aButton
// b
gp.bButton
// y
gp.yButton
```

## 手柄中央按键

```csharp
// start
gp.startButton
// select
gp.selectButton
```

## 手柄肩部按键

```csharp
// 左上右上 肩部按键
// 左右前方肩部键
gp.leftShoulder
gp.rightShoulder

// 左右后方扳机键
gp.leftTrigger
gp.rightTrigger

//wasPressedThisFrame
```