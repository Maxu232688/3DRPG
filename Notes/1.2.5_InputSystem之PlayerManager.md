# InputSystem之PlayerManager

## PlayerInputManager的作用

PlayerInputManager组件主要是用于管理本地多人输入的输入管理器\
它主要管理玩家加入和离开

## 组件添加及参数

Add Component -> Player Input Manager

- Notification Behavior:当玩家进入时PlayerInputManager如何通知关联的对象，它的工作方式和Playerlnput相同
- Join Behavior:玩家加入的机制
  - Join Players When Button ls Pressed:当有新设备加入按下任意键,或者没有任何玩家时按下任意键
  - Join Players When Join Action ls Triggered:当有新设备加入按下指定按键触发玩家加入
  - Join Players Manually:不要自动加入玩家，需要自己手动加入玩家
- Player Prefab:挂载Playerlnput组件的游戏对象
- Joining Enabled By Default:启用后，新加玩家按照JoinBehavior的规则加入
- Limit Number Of Players:启用后，可以限制加入游戏的玩家数量
  - Max Player Count:允许参加游戏的最大玩家数

- Enable Split_Screen:如果启用，会自动为每个对象分配可用屏幕区域的一部分，用于多人分屏游戏
  - Maintain Aspect Ratio:假值使游戏能够生成屏幕区域,其纵横比与细分屏幕时的屏幕分辨率不同
  - Set Fixed Number:如果该值大于零，则PlayerInputManager始终将屏幕分割为固定数量的矩形,而不考虑实际的玩家数量。
  - Screen Rectangle:可用于分配播放器拆分屏幕的规范化屏幕矩形

**注意**：在上方Player Prefab中关联的预制体上一定要挂载PlayerInput组件
它是按设备创建对象的。

## PlayerInputManager使用

```csharp
// 获取PlayerInputManager
// PlayerInputManager.instance
// 玩家加入时
PlayerInputManager.instance.onPlayerJioned += TestFun1;
// 玩家离开时
PlayerInputManager.instance.onPlayerLeft += TestFun2; // 少用lambda表达式
```

一般用于做单机的多人游戏。